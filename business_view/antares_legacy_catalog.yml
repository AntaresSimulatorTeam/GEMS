# Such a file for "Business Metrics" definitions should be modified only by expert user in a text editor. No API/GUI is needed.
# In "secure mode", a user can only refer to "Business Metrics Definition files" that are registered as "safe" in a reference repo.
# In "free mode", a user can refer to "Business Metrics Definitions files" that are freely modified

############################    Columns of a Business View   #######################################

# metric_id | metric_location | breakdown_property | view_date | scenario_id | metric_value |

####################################################################################################

catalog:
  
  id: antares_area_output

  taxonomy: my_taxonomy

  location:
    taxonomy-group: area # str | tuple(str)
    #The category of models in the taxonomy that will serve as "location-ports" for these metrics
    #balance is the taxonomy group for area, zones... etc

  metrics-definition: 

  - id: OV.COST
    terms:
      - taxonomy-group: area
        output-id: ens_and_spillage_cost
        location-ports: null 
      - taxonomy-group: production
        output-id: proportional_cost
        location-ports: balance_port
      - taxonomy-group: production #indicates that the "location" column will be filled with the id of the balance objects to which the consumption object is connected through "balance_port"
        output-id: non_proportional_cost
        location-ports: balance_port #indicates that the "location" column will be filled with the id of the balance objects to which the consumption object is connected through "balance_port"

    terms-operator: sum # Possible values : sum | avg | weighted_sum | weighted_avg # Defines how we aggregate the contributions of the differents terms, over all components 
    #breakdown: None
    #filter: None
    time-operator: sum  # sum | avg | weighted_sum | weighted_avg # Defines how we aggregate over the temporal dimension.